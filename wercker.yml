# The container definition we want to use for developing our app
box: golang
# Defining the dev pipeline
dev:
  steps:
    - internal/watch:
        code: |
          go build ./...
          ./source
        reload: true
build:
  steps:
    - script:
        name: go get codegangsta/cli
        code: |
          go get -u "github.com/codegangsta/cli"
    - script:
        name: go get gin-gonic/gin
        code: |
          go get -u "github.com/gin-gonic/gin"
    - script:
        name: go get samalba/dockerclient
        code: |
          go get -u "github.com/samalba/dockerclient"
    - script:
        name: go get redis.v3
        code: |
          go get -u "gopkg.in/redis.v3"
    - script:
        name: go build
        code: |
          go build
    - script:
        name: go test
        code: |
          go test ./..
